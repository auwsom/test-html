<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Fusion Tables queries</title>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    <script src="searchLocation.js"></script>
  </head>
  <body>
  
        <input type="text" id="my-address">
        <button id="getCords" onClick="codeAddress();">Search near location:</button>
<script>

long1 = -122.3;
lat1 = 47.6;
zoom1 = 10;
//window.out1 = 3;

function submitForm(someForm) {
    for (var i=0, el; el = someForm.elements[i]; i++) {
        if (el.name) {
            lat1 = parseInt(el.value);
        }
    }
 //alert(zoom1);
 reload();
}

    function reload(){
    		initMap()
    		document.getElementById("map").contentWindow.location.reload(true);
        }

 
      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: lat1, lng: long1},
          zoom: zoom1
        });
        var layer = new google.maps.FusionTablesLayer({
          query: {
            select: 'address',
            from: '1i_Cfd1zwIn-vpz_Lqm-di7t36gDptrsSrdJpKpaE',
            where: 'ridership > 5000'
          }
        });
        layer.setMap(map);
      }
    </script>
    <div id="map"></div>
    <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB-TwQBhSgRdAwEcgTkMVIAhpcdjVlAflM&callback=initMap">
    </script>
  </body>
</html>


/*
/*<form>
 Location: 
 <input type='text' name='location' /><br />
 <input type='button' value='Submit' onclick='submitForm(this.form); return false;' />
</form>*/
*/   
